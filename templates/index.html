<!doctype html>
<html>

<head>
    <title>Car Robot control</title>

    <h2>This control the main for the car</h2>  

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"> </script>
    <script type=text/javascript> 
    $(function() {
        function getResponse(route) {
            $.getJSON(route, { }, function(data) { });
        }
        $("#forward_button").click((event)=> getResponse($(event.currentTarget).val()));
        $("#stop_button").click((event)=> getResponse($(event.currentTarget).val()));
        $("#reverse_button").click((event)=> getResponse($(event.currentTarget).val()));
        $("#left_button").click((event)=> getResponse($(event.currentTarget).val()));
        $("#stop_button2").click((event)=> getResponse($(event.currentTarget).val()));
        $("#right_button").click((event)=> getResponse($(event.currentTarget).val()));
        $("#increase_button").click((event)=> getResponse($(event.currentTarget).val()));
        $("#decrease_button").click((event)=> getResponse($(event.currentTarget).val()));
    }); 
    </script>

</head>

<body>        
        <button type="button" id="forward_button" value='/Forward'>Forward</button>
		<button type="button" id="stop_button" value='/Stop'>Stop</button>
        <button type="button" id="reverse_button" value='/Reverse'>Reverse</button>
        <br><br><br>
        <button type="button" id="left_button" value='/Left'>Left</button>
        <button type="button" id="stop_button2" value='/Stop'>Stop</button>
        <button type="button" id="right_button" value='/Right'>Right</button>
        <br><br><br>
        <h2>Speeed info</h2>
        <input type="text" id="out" value='0'/>
        <br><br><br>
        <button type="button" id="increase_button" value='/Increase'>Increase</button>
        <button type="button" id="decrease_button" value='/Decrease'>Decrease</button>
        
        <script type=text/javascript>
                
            var source = new EventSource('/stream');
            var out = $('#out');
            source.onmessage = function(e) {
                out.val(e.data);
            };
        </script>
</body>    

</html>